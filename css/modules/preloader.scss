$transition-duration: 2s;
$path-length: 71px; // Retrieved using SVG's getTotalLength()

.preloader {
  height: 100vh;
  width: 100%;
  opacity: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: opacity .9s, height .9s, visibility .9s, z-index .9s;

  svg {
    overflow: visible;
    width: 50px;
    height: 75px;

    g {
      animation: slide $transition-duration linear infinite;

      &:nth-child(2) {
        animation-delay: $transition-duration / 4;

        path {
          animation-delay: $transition-duration / 4;
          stroke-dasharray: 0 $path-length + 1;
          stroke-dashoffset: 1px;
        }
      }
    }

    path{
      stroke: url(#gradient);
      stroke-width: 10px;
      stroke-linecap: round;
      fill: none;
      stroke-dasharray: 0 $path-length;
      stroke-dashoffset: 0;
      animation: escalade $transition-duration cubic-bezier(0.8, 0, 0.2, 1) infinite;
    }
  }
}

.hidden {
  height: 0;
  opacity: 0;
  visibility: hidden;
  z-index: -1;
}

@keyframes slide {
  0% {
    transform: translateY(-50px);
  }
  100% {
    transform: translateY(50px);
  }
}

@keyframes escalade {
  0% {
    stroke-dasharray: 0 $path-length;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: $path-length $path-length;
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dasharray: $path-length $path-length;
    stroke-dashoffset: -($path-length - 1);
  }
}